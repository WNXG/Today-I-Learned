onLoad(query) {
// 获取店铺信息
this.getAbout();
// 获取菜单信息
this.getCatalogV2();
//获取桌号
// const url = 'https://www.chaomidao.cn/wx/table?tableNumber=1';

    const url= decodeURIComponent(query.q) // 获取到二维码原始链接内容
    console.log(query.q,'q');
    console.log(url,'scan_url');
    const scancode_time = parseInt(query.scancode_time) // 获取用户扫码时间 UNIX 时间戳
    // app.globalData.tableNumber = scan_url.match(/\d+/)[0] // 获取拼接在链接后的内容

let urlToParse = url.indexOf('?') > -1 ? url.replace(/\S\*\?/, '') : '';
var params = urlToParse.split('&').filter(function (paramsPart) { return paramsPart !== ''; });
for (var i = 0; i < params.length; i += 1) {
var param = params[i].replace(/#\S+/g, '').split('=');
query[decodeURIComponent(param[0])] = typeof param[1] === 'undefined' ? undefined : decodeURIComponent(param[1]) || '';
}
console.log(urlToParse,'urlToParse');
app.globalData.tableNumber = urlToParse.split('=').pop()
console.log(app.globalData.tableNumber,'tableNumber');
},

1112
待做事项：
开题报告修改
代码冲突问题 ==》 输入框备注那的格式 bug
写给管丙欣的信
